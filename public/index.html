<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <title>Warpcast Top Traders</title>
    
    <!-- Open Graph meta tags for better sharing -->
    <meta property="og:title" content="Warpcast Top Traders" />
    <meta property="og:description" content="See which of the people you follow are the top traders on BASE using their warplets" />
    <meta property="og:image" content="https://topwarplettraders.vercel.app/og.png" />
    <meta property="og:url" content="https://topwarplettraders.vercel.app" />
    <meta property="og:type" content="website" />
    
    <!-- Warpcast Frame Tags -->
    <meta property="fc:frame" content="vNext" />
    <meta property="fc:frame:image" content="https://topwarplettraders.vercel.app/og.png" />
    <meta property="fc:frame:button:1" content="24 Hours" />
    <meta property="fc:frame:button:2" content="7 Days" />
    <meta property="fc:frame:button:3" content="Share Results" />
    <meta property="fc:frame:post_url" content="https://topwarplettraders.vercel.app/api/frame-action" />
    
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        background: linear-gradient(to bottom, #0f172a, #1e293b);
        color: #e2e8f0;
        margin: 0;
        padding: 0;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
      }
      
      .container {
        max-width: 800px;
        padding: 2rem;
      }
      
      h1 {
        font-size: 2.5rem;
        margin-bottom: 1rem;
        background: linear-gradient(to right, #3b82f6, #8b5cf6);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }
      
      p {
        font-size: 1.2rem;
        line-height: 1.6;
        margin-bottom: 2rem;
        color: #94a3b8;
      }
      
      .buttons {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        justify-content: center;
        margin-bottom: 2rem;
      }
      
      .button {
        background: linear-gradient(to right, #3b82f6, #8b5cf6);
        color: white;
        border: none;
        padding: 0.75rem 1.5rem;
        border-radius: 0.5rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s ease;
      }
      
      .button:hover {
        opacity: 0.9;
        transform: translateY(-2px);
      }
      
      .credits {
        margin-top: 3rem;
        font-size: 0.875rem;
        color: #64748b;
      }
      
      a {
        color: #3b82f6;
        text-decoration: none;
      }
      
      a:hover {
        text-decoration: underline;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Warpcast Top Traders</h1>
      <p>Discover which people you follow are the top traders on BASE using their warplets. Track real-time performance with 24-hour and 7-day views, and easily share results with your followers.</p>
      
      <div class="buttons">
        <button class="button" id="viewTraders">View Top Traders</button>
      </div>
      
      <div class="credits">
        <p>This app uses data from <a href="https://dune.com" target="_blank">Dune Analytics</a> and <a href="https://neynar.com" target="_blank">Neynar</a> to bring you real-time trading insights.</p>
      </div>
    </div>
    
    <script>
      // Direct iframe embedding for Warpcast Frame
      document.addEventListener('DOMContentLoaded', function() {
        const container = document.querySelector('.container');
        
        // Create iframe container
        const frameContainer = document.createElement('div');
        frameContainer.style.display = 'none';
        frameContainer.style.marginTop = '2rem';
        frameContainer.style.width = '100%';
        frameContainer.style.maxWidth = '600px';
        frameContainer.style.height = '500px';
        frameContainer.style.border = '1px solid #3b82f6';
        frameContainer.style.borderRadius = '0.5rem';
        frameContainer.style.overflow = 'hidden';
        
        // Create iframe
        const iframe = document.createElement('iframe');
        iframe.src = '/api/frame-action';
        iframe.style.width = '100%';
        iframe.style.height = '100%';
        iframe.style.border = 'none';
        
        // Add iframe to container
        frameContainer.appendChild(iframe);
        container.appendChild(frameContainer);
        
        // Handle button click
        const viewButton = document.getElementById('viewTraders');
        viewButton.addEventListener('click', function() {
          frameContainer.style.display = frameContainer.style.display === 'none' ? 'block' : 'none';
          viewButton.textContent = frameContainer.style.display === 'none' ? 'View Top Traders' : 'Hide Top Traders';
        });
      });
    </script>
  </body>
</html>